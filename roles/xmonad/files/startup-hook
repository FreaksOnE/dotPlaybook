#!/bin/sh

export PATH="$HOME/local_packages/bin:$PATH"

running () {
    ps axco cmd | grep "^$1$" > /dev/null 
}

exists () {
    which $1 > /dev/null
}

start_if_not_running () {
    if running $1;
    then
        echo "$1 already running"
    else
        if exists $1;
        then
            $* &
            echo "$1 started"
        else
            echo "$1 not found"
        fi
    fi

}

# Merge Xresources file, need to this since LightDM merges
# Xresources using -nocpp option [https://bugs.launchpad.net/lightdm/+bug/1084885]
# thus any preprocessor statements are ignored

xrdb -merge ~/.Xresources

start_if_not_running urxvt
start_if_not_running emacs
start_if_not_running firefox
start_if_not_running rofi -key-window mod4+s
start_if_not_running xcompmgr
start_if_not_running artha
